"use strict";(self.webpackChunkheyanai_navigation=self.webpackChunkheyanai_navigation||[]).push([[194],{51042:function(V,w,e){var T=e(1413),v=e(67294),B=e(42110),s=e(98615),R=function(j,i){return v.createElement(s.Z,(0,T.Z)((0,T.Z)({},j),{},{ref:i,icon:B.Z}))};R.displayName="PlusOutlined",w.Z=v.forwardRef(R)},88923:function(V,w,e){e.d(w,{h:function(){return F}});var T=e(97857),v=e.n(T),B=e(15009),s=e.n(B),R=e(99289),t=e.n(R),j=e(59061),i=e(80854),d=e(22247),y=e(93717),D=e(96486),K=e.n(D),L=e(491),z=e(85893);function F(G){var N=(0,i.useIntl)();return(0,z.jsx)(j.Z,v()(v()({accept:"image/png",max:1,transform:function(x){var l,C,O={};return(0,D.set)(O,(l=G.name)!==null&&l!==void 0?l:"picture",(C=(0,D.first)(x))===null||C===void 0?void 0:C.response),O}},G),{},{fieldProps:{listType:"picture-card",onPreview:function(x){d.Z.warning({content:(0,z.jsx)(y.Z,{width:600,src:x.thumbUrl}),width:660-12,icon:" "})},customRequest:function(){var U=t()(s()().mark(function l(C){var O,S,W,_;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return O=C.file,S=new FormData,S.append("file",O),p.prev=3,p.next=6,(0,L.cT)(S);case 6:_=p.sent,console.log(_),(W=C.onSuccess)===null||W===void 0||W.call(C,_.data.url),p.next=14;break;case 11:p.prev=11,p.t0=p.catch(3),console.log(p.t0);case 14:case"end":return p.stop()}},l,null,[[3,11]])}));function x(l){return U.apply(this,arguments)}return x}()}}))}},89512:function(V,w,e){e.d(w,{v:function(){return R}});var T=e(80854),v=e(86738),B=e(71577),s=e(85893);function R(t){var j,i,d,y,D=(0,T.useIntl)();return(0,s.jsx)(v.Z,{title:(j=t.title)!==null&&j!==void 0?j:D.formatMessage({id:"app.remove.confirm.title",defaultMessage:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u6B64\u9879\u5417?"}),description:(i=t.title)!==null&&i!==void 0?i:D.formatMessage({id:"app.remove.confirm.description",defaultMessage:"\u5220\u9664\u6B64\u9879"}),okButtonProps:{loading:t.loading},getPopupContainer:t.getPopupContainer,onConfirm:function(){var L;return t==null||(L=t.onClick)===null||L===void 0?void 0:L.call(t)},children:!t.children&&(0,s.jsx)(B.ZP,{type:(d=t.type)!==null&&d!==void 0?d:"link",size:(y=t.size)!==null&&y!==void 0?y:"small",disabled:t.disabled,children:(0,s.jsx)(T.FormattedMessage,{id:"app.remove",defaultMessage:"\u5220\u9664"})})})}},46085:function(V,w,e){e.r(w),e.d(w,{default:function(){return W}});var T=e(97857),v=e.n(T),B=e(13769),s=e.n(B),R=e(89512),t=e(36255),j=e(69851),i=e(90930),d=e(9455),y=e(80854),D=e(54689),K=e(71577),L=e(5574),z=e.n(L),F=e(88923),G=e(51042),N=e(37476),U=e(5966),x=e(12029),l=e(85893);function C(_){var f=(0,y.useIntl)(),p=x.Z.useForm(),P=z()(p,1),$=P[0],I=(0,y.useRequest)(t.wD,{manual:!0,onSuccess:function(m){if(m){var h;(h=_.refresh)===null||h===void 0||h.call(_),D.Z.success({message:f.formatMessage({id:"app.add.success",defaultMessage:"\u65B0\u5EFA\u6210\u529F"})})}}}),Z=I.run;return(0,l.jsxs)(N.Y,{title:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.add",defaultMessage:"\u6DFB\u52A0\u4EBA\u5458\u7C7B\u578B"}),trigger:(0,l.jsx)(K.ZP,{type:"primary",icon:(0,l.jsx)(G.Z,{}),children:f.formatMessage({id:"app.add",defaultMessage:"\u65B0\u5EFA"})}),form:$,layout:"horizontal",labelCol:{xs:6},wrapperCol:{xs:16},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},onFinish:function(m){return Z(m)},children:[(0,l.jsx)(U.Z,{label:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0"}),name:"typeName",rules:[{required:!0,message:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name.required.failure",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0\u5FC5\u586B"})}]}),(0,l.jsx)(F.h,{label:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon",defaultMessage:"\u56FE\u6807"}),name:"picture",rules:[{message:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon.required.failure",defaultMessage:"\u8BF7\u4E0A\u4F20\u56FE\u6807"})}]})]})}function O(_){var f,p,P=(0,y.useIntl)(),$=x.Z.useForm(),I=z()($,1),Z=I[0],M=(0,y.useRequest)(t.b3,{manual:!0,onSuccess:function(A){if(A){var E;(E=_.refresh)===null||E===void 0||E.call(_),D.Z.success({message:P.formatMessage({id:"app.edit.success",defaultMessage:"\u66F4\u65B0\u6210\u529F"})})}}}),m=M.run;return(0,l.jsxs)(N.Y,{title:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.edit",defaultMessage:"\u7F16\u8F91\u4EBA\u5458\u7C7B\u578B"}),trigger:(0,l.jsx)(K.ZP,{disabled:!_.record.typeId,type:"link",size:"small",children:P.formatMessage({id:"app.edit",defaultMessage:"\u7F16\u8F91"})}),form:Z,layout:"horizontal",labelCol:{xs:6},wrapperCol:{xs:16},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},onFinish:function(A){return m({typeId:_.record.typeId},A)},children:[(0,l.jsx)(U.Z,{label:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0"}),initialValue:_.record.typeName,name:"typeName",rules:[{required:!0,message:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name.required.failure",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0\u5FC5\u586B"})}]}),(0,l.jsx)(F.h,{label:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon",defaultMessage:"\u56FE\u6807"}),initialValue:[{uid:Date.now()+"",response:(f=_.record)===null||f===void 0?void 0:f.picture,thumbUrl:(p=_.record)===null||p===void 0?void 0:p.picture}],name:"picture",rules:[{required:!0,message:P.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon.required.failure",defaultMessage:"\u8BF7\u4E0A\u4F20\u56FE\u6807"})}]})]})}var S=["current","pageSize"];function W(){var _=(0,y.useIntl)(),f=(0,y.useRequest)(t.Sl,{manual:!0,formatResult:function(m){return(0,j.LF)(m)}}),p=f.run,P=(0,y.useRequest)(t.tu,{manual:!0,fetchKey:function(m){return m.typeId+""},onSuccess:function(m){m&&D.Z.success({message:_.formatMessage({id:"app.remove.success",defaultMessage:"\u5220\u9664\u6210\u529F"})})}}),$=P.run,I=P.fetches,Z=[{title:_.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0"}),dataIndex:"typeName"},{title:_.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon",defaultMessage:"\u56FE\u6807"}),dataIndex:"picture",valueType:"image"},{title:_.formatMessage({id:"app.createTime",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),dataIndex:"createTime",valueType:"dateTime"},{title:_.formatMessage({id:"app.action",defaultMessage:"\u64CD\u4F5C"}),render:function(m,h,A,E){var Y;return(0,l.jsxs)(K.ZP.Group,{children:[(0,l.jsx)(O,{record:h,refresh:E==null?void 0:E.reload}),(0,l.jsx)(R.v,{disabled:!h.typeId,onClick:function(){return $({typeId:h.typeId}).then(function(){return E==null?void 0:E.reload()})},loading:I==null||(Y=I[h.typeId])===null||Y===void 0?void 0:Y.loading})]})}}];return(0,l.jsx)(i._z,{childrenContentStyle:{padding:20},children:(0,l.jsx)(d.Z,{columns:Z,search:!1,toolBarRender:function(m){return[(0,l.jsx)(C,{refresh:m==null?void 0:m.reload},"add")]},request:function(m){var h=m.current,A=m.pageSize,E=s()(m,S);return p(v()({current:h+"",size:A+""},E))},options:{setting:!1}})})}},36255:function(V,w,e){e.d(w,{BZ:function(){return x},Ge:function(){return $},If:function(){return S},Mq:function(){return p},Sl:function(){return A},b3:function(){return q},bY:function(){return Z},eQ:function(){return N},j4:function(){return C},sz:function(){return ee},tE:function(){return _},tu:function(){return k},wD:function(){return Y}});var T=e(13769),v=e.n(T),B=e(15009),s=e.n(B),R=e(97857),t=e.n(R),j=e(99289),i=e.n(j),d=e(80854),y=["depId"],D=["depId"],K=["personnelId"],L=["personnelId"],z=null,F=["typeId"],G=["typeId"];function N(a,r){return U.apply(this,arguments)}function U(){return U=i()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/v1/dep/personnel",t()({method:"GET",params:t()({current:"1",size:"10"},r)},u||{})));case 1:case"end":return n.stop()}},a)})),U.apply(this,arguments)}function x(a,r){return l.apply(this,arguments)}function l(){return l=i()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/v1/departments",t()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return n.stop()}},a)})),l.apply(this,arguments)}function C(a,r,u){return O.apply(this,arguments)}function O(){return O=i()(s()().mark(function a(r,u,o){var n,b;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=r.depId,b=v()(r,y),c.abrupt("return",(0,d.request)("/api/v1/departments/".concat(n),t()({method:"PUT",headers:{"Content-Type":"application/json"},params:t()({},b),data:u},o||{})));case 2:case"end":return c.stop()}},a)})),O.apply(this,arguments)}function S(a,r){return W.apply(this,arguments)}function W(){return W=i()(s()().mark(function a(r,u){var o,n;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return o=r.depId,n=v()(r,D),g.abrupt("return",(0,d.request)("/api/v1/departments/".concat(o),t()({method:"DELETE",params:t()({},n)},u||{})));case 2:case"end":return g.stop()}},a)})),W.apply(this,arguments)}function _(a,r){return f.apply(this,arguments)}function f(){return f=i()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/v1/personnel",t()({method:"GET",params:t()({current:"1",size:"10"},r)},u||{})));case 1:case"end":return n.stop()}},a)})),f.apply(this,arguments)}function p(a,r){return P.apply(this,arguments)}function P(){return P=i()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/v1/personnel",t()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return n.stop()}},a)})),P.apply(this,arguments)}function $(a,r,u){return I.apply(this,arguments)}function I(){return I=i()(s()().mark(function a(r,u,o){var n,b;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=r.personnelId,b=v()(r,K),c.abrupt("return",(0,d.request)("/api/v1/personnel/".concat(n),t()({method:"PUT",headers:{"Content-Type":"application/json"},params:t()({},b),data:u},o||{})));case 2:case"end":return c.stop()}},a)})),I.apply(this,arguments)}function Z(a,r){return M.apply(this,arguments)}function M(){return M=i()(s()().mark(function a(r,u){var o,n;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return o=r.personnelId,n=v()(r,L),g.abrupt("return",(0,d.request)("/api/v1/personnel/".concat(o),t()({method:"DELETE",params:t()({},n)},u||{})));case 2:case"end":return g.stop()}},a)})),M.apply(this,arguments)}function m(a,r){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function a(r,u){var o,n,b;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=r.personnelId,n=r.tag,b=_objectWithoutProperties(r,z),c.abrupt("return",request("/api/v1/personnel/".concat(o,"/").concat(n),_objectSpread({method:"DELETE",params:_objectSpread({},b)},u||{})));case 2:case"end":return c.stop()}},a)})),h.apply(this,arguments)}function A(a,r){return E.apply(this,arguments)}function E(){return E=i()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/v1/personnelTypes",t()({method:"GET",params:t()({current:"1",size:"10"},r)},u||{})));case 1:case"end":return n.stop()}},a)})),E.apply(this,arguments)}function Y(a,r){return Q.apply(this,arguments)}function Q(){return Q=i()(s()().mark(function a(r,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/v1/personnelTypes",t()({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return n.stop()}},a)})),Q.apply(this,arguments)}function k(a,r){return H.apply(this,arguments)}function H(){return H=i()(s()().mark(function a(r,u){var o,n;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return o=r.typeId,n=v()(r,F),g.abrupt("return",(0,d.request)("/api/v1/personnelTypes/".concat(o),t()({method:"DELETE",params:t()({},n)},u||{})));case 2:case"end":return g.stop()}},a)})),H.apply(this,arguments)}function q(a,r,u){return J.apply(this,arguments)}function J(){return J=i()(s()().mark(function a(r,u,o){var n,b;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=r.typeId,b=v()(r,G),c.abrupt("return",(0,d.request)("/api/v1/personnelTypes/".concat(n),t()({method:"PUT",headers:{"Content-Type":"application/json"},params:t()({},b),data:u},o||{})));case 2:case"end":return c.stop()}},a)})),J.apply(this,arguments)}function ee(a){return X.apply(this,arguments)}function X(){return X=i()(s()().mark(function a(r){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,d.request)("/api/v1/treeDepartment",t()({method:"GET"},r||{})));case 1:case"end":return o.stop()}},a)})),X.apply(this,arguments)}}}]);
