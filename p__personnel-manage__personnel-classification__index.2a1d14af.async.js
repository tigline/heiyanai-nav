"use strict";(self.webpackChunkheyanai_navigation=self.webpackChunkheyanai_navigation||[]).push([[194],{51042:function(V,R,e){var j=e(1413),h=e(67294),L=e(42110),s=e(98615),U=function(O,i){return h.createElement(s.Z,(0,j.Z)((0,j.Z)({},O),{},{ref:i,icon:L.Z}))};U.displayName="PlusOutlined",R.Z=h.forwardRef(U)},88923:function(V,R,e){e.d(R,{h:function(){return w}});var j=e(97857),h=e.n(j),L=e(15009),s=e.n(L),U=e(99289),r=e.n(U),O=e(59061),i=e(35312),p=e(69400),E=e(90156),T=e(96486),z=e.n(T),W=e(491),S=e(85893);function w(G){var N=(0,i.useIntl)();return(0,S.jsx)(O.Z,h()(h()({accept:"image/png",max:1,transform:function(B){var l,I,b={};return(0,T.set)(b,(l=G.name)!==null&&l!==void 0?l:"picture",(I=(0,T.first)(B))===null||I===void 0?void 0:I.response),b}},G),{},{fieldProps:{listType:"picture-card",onPreview:function(B){p.Z.warning({content:(0,S.jsx)(E.Z,{width:600,src:B.thumbUrl}),width:660-12,icon:" "})},customRequest:function(){var x=r()(s()().mark(function l(I){var b,$,A,d;return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return b=I.file,$=new FormData,$.append("file",b),_.prev=3,_.next=6,(0,W.cT)($);case 6:d=_.sent,console.log(d),(A=I.onSuccess)===null||A===void 0||A.call(I,d.data.url),_.next=14;break;case 11:_.prev=11,_.t0=_.catch(3),console.log(_.t0);case 14:case"end":return _.stop()}},l,null,[[3,11]])}));function B(l){return x.apply(this,arguments)}return B}()}}))}},89512:function(V,R,e){e.d(R,{v:function(){return U}});var j=e(35312),h=e(86738),L=e(71577),s=e(85893);function U(r){var O,i,p,E,T=(0,j.useIntl)();return(0,s.jsx)(h.Z,{title:(O=r.title)!==null&&O!==void 0?O:T.formatMessage({id:"app.remove.confirm.title",defaultMessage:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u6B64\u9879\u5417?"}),description:(i=r.title)!==null&&i!==void 0?i:T.formatMessage({id:"app.remove.confirm.description",defaultMessage:"\u5220\u9664\u6B64\u9879"}),okButtonProps:{loading:r.loading},getPopupContainer:r.getPopupContainer,onConfirm:function(){var W;return r==null||(W=r.onClick)===null||W===void 0?void 0:W.call(r)},children:!r.children&&(0,s.jsx)(L.ZP,{type:(p=r.type)!==null&&p!==void 0?p:"link",size:(E=r.size)!==null&&E!==void 0?E:"small",disabled:r.disabled,children:(0,s.jsx)(j.FormattedMessage,{id:"app.remove",defaultMessage:"\u5220\u9664"})})})}},46085:function(V,R,e){e.r(R),e.d(R,{default:function(){return A}});var j=e(97857),h=e.n(j),L=e(13769),s=e.n(L),U=e(89512),r=e(36255),O=e(69851),i=e(90930),p=e(9455),E=e(35312),T=e(54689),z=e(71577),W=e(5574),S=e.n(W),w=e(88923),G=e(51042),N=e(37476),x=e(5966),B=e(12029),l=e(85893);function I(d){var f=(0,E.useIntl)(),_=B.Z.useForm(),y=S()(_,1),Z=y[0],C=(0,E.useRequest)(r.wD,{manual:!0,onSuccess:function(m){if(m){var g;(g=d.refresh)===null||g===void 0||g.call(d),T.Z.success({message:f.formatMessage({id:"app.add.success",defaultMessage:"\u65B0\u5EFA\u6210\u529F"})})}}}),F=C.run;return(0,l.jsxs)(N.Y,{title:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.add",defaultMessage:"\u6DFB\u52A0\u4EBA\u5458\u7C7B\u578B"}),trigger:(0,l.jsx)(z.ZP,{type:"primary",icon:(0,l.jsx)(G.Z,{}),children:f.formatMessage({id:"app.add",defaultMessage:"\u65B0\u5EFA"})}),form:Z,layout:"horizontal",labelCol:{xs:6},wrapperCol:{xs:16},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},onFinish:function(m){return F(m)},children:[(0,l.jsx)(x.Z,{label:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0"}),name:"typeName",rules:[{required:!0,message:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name.required.failure",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0\u5FC5\u586B"})}]}),(0,l.jsx)(w.h,{label:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon",defaultMessage:"\u56FE\u6807"}),name:"picture",rules:[{message:f.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon.required.failure",defaultMessage:"\u8BF7\u4E0A\u4F20\u56FE\u6807"})}]})]})}function b(d){var f,_,y=(0,E.useIntl)(),Z=B.Z.useForm(),C=S()(Z,1),F=C[0],M=(0,E.useRequest)(r.b3,{manual:!0,onSuccess:function(K){if(K){var P;(P=d.refresh)===null||P===void 0||P.call(d),T.Z.success({message:y.formatMessage({id:"app.edit.success",defaultMessage:"\u66F4\u65B0\u6210\u529F"})})}}}),m=M.run;return(0,l.jsxs)(N.Y,{title:y.formatMessage({id:"pages.personnel-manage.organization.department.person.type.edit",defaultMessage:"\u7F16\u8F91\u4EBA\u5458\u7C7B\u578B"}),trigger:(0,l.jsx)(z.ZP,{disabled:!d.record.typeId,type:"link",size:"small",children:y.formatMessage({id:"app.edit",defaultMessage:"\u7F16\u8F91"})}),form:F,layout:"horizontal",labelCol:{xs:6},wrapperCol:{xs:16},modalProps:{destroyOnClose:!0,onCancel:function(){return console.log("run")}},onFinish:function(K){return m({typeId:d.record.typeId},K)},children:[(0,l.jsx)(x.Z,{label:y.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0"}),initialValue:d.record.typeName,name:"typeName",rules:[{required:!0,message:y.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name.required.failure",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0\u5FC5\u586B"})}]}),(0,l.jsx)(w.h,{label:y.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon",defaultMessage:"\u56FE\u6807"}),initialValue:[{uid:Date.now()+"",response:(f=d.record)===null||f===void 0?void 0:f.picture,thumbUrl:(_=d.record)===null||_===void 0?void 0:_.picture}],name:"picture",rules:[{required:!0,message:y.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon.required.failure",defaultMessage:"\u8BF7\u4E0A\u4F20\u56FE\u6807"})}]})]})}var $=["current","pageSize"];function A(){var d=(0,E.useIntl)(),f=(0,E.useRequest)(r.Sl,{manual:!0,formatResult:function(m){return(0,O.LF)(m)}}),_=f.run,y=(0,E.useRequest)(r.tu,{manual:!0,fetchKey:function(m){return m.typeId+""},onSuccess:function(m){m&&T.Z.success({message:d.formatMessage({id:"app.remove.success",defaultMessage:"\u5220\u9664\u6210\u529F"})})}}),Z=y.run,C=y.fetches,F=[{title:d.formatMessage({id:"pages.personnel-manage.organization.department.person.type.name",defaultMessage:"\u4EBA\u5458\u7C7B\u578B\u540D\u79F0"}),dataIndex:"typeName"},{title:d.formatMessage({id:"pages.personnel-manage.organization.department.person.type.icon",defaultMessage:"\u56FE\u6807"}),dataIndex:"picture",valueType:"image"},{title:d.formatMessage({id:"app.createTime",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),dataIndex:"createTime",valueType:"dateTime"},{title:d.formatMessage({id:"app.action",defaultMessage:"\u64CD\u4F5C"}),render:function(m,g,K,P){var Y;return(0,l.jsxs)(z.ZP.Group,{children:[(0,l.jsx)(b,{record:g,refresh:P==null?void 0:P.reload}),(0,l.jsx)(U.v,{disabled:!g.typeId,onClick:function(){return Z({typeId:g.typeId}).then(function(){return P==null?void 0:P.reload()})},loading:C==null||(Y=C[g.typeId])===null||Y===void 0?void 0:Y.loading})]})}}];return(0,l.jsx)(i._z,{childrenContentStyle:{padding:20},children:(0,l.jsx)(p.Z,{columns:F,search:!1,toolBarRender:function(m){return[(0,l.jsx)(I,{refresh:m==null?void 0:m.reload},"add")]},request:function(m){var g=m.current,K=m.pageSize,P=s()(m,$);return _(h()({current:g+"",size:K+""},P))},options:{setting:!1}})})}},36255:function(V,R,e){e.d(R,{BZ:function(){return B},Ge:function(){return Z},If:function(){return $},Mq:function(){return _},Sl:function(){return K},b3:function(){return k},bY:function(){return F},eQ:function(){return N},j4:function(){return I},sz:function(){return ee},tE:function(){return d},tu:function(){return q},wD:function(){return Y}});var j=e(13769),h=e.n(j),L=e(15009),s=e.n(L),U=e(97857),r=e.n(U),O=e(99289),i=e.n(O),p=e(35312),E=["depId"],T=["depId"],z=["personnelId"],W=["personnelId"],S=null,w=["typeId"],G=["typeId"];function N(t,a){return x.apply(this,arguments)}function x(){return x=i()(s()().mark(function t(a,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/v1/dep/personnel",r()({method:"GET",params:r()({current:"1",size:"10"},a)},u||{})));case 1:case"end":return n.stop()}},t)})),x.apply(this,arguments)}function B(t,a){return l.apply(this,arguments)}function l(){return l=i()(s()().mark(function t(a,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/v1/departments",r()({method:"POST",headers:{"Content-Type":"application/json"},data:a},u||{})));case 1:case"end":return n.stop()}},t)})),l.apply(this,arguments)}function I(t,a,u){return b.apply(this,arguments)}function b(){return b=i()(s()().mark(function t(a,u,o){var n,D;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=a.depId,D=h()(a,E),c.abrupt("return",(0,p.request)("/api/v1/departments/".concat(n),r()({method:"PUT",headers:{"Content-Type":"application/json"},params:r()({},D),data:u},o||{})));case 2:case"end":return c.stop()}},t)})),b.apply(this,arguments)}function $(t,a){return A.apply(this,arguments)}function A(){return A=i()(s()().mark(function t(a,u){var o,n;return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=a.depId,n=h()(a,T),v.abrupt("return",(0,p.request)("/api/v1/departments/".concat(o),r()({method:"DELETE",params:r()({},n)},u||{})));case 2:case"end":return v.stop()}},t)})),A.apply(this,arguments)}function d(t,a){return f.apply(this,arguments)}function f(){return f=i()(s()().mark(function t(a,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/v1/personnel",r()({method:"GET",params:r()({current:"1",size:"10"},a)},u||{})));case 1:case"end":return n.stop()}},t)})),f.apply(this,arguments)}function _(t,a){return y.apply(this,arguments)}function y(){return y=i()(s()().mark(function t(a,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/v1/personnel",r()({method:"POST",headers:{"Content-Type":"application/json"},data:a},u||{})));case 1:case"end":return n.stop()}},t)})),y.apply(this,arguments)}function Z(t,a,u){return C.apply(this,arguments)}function C(){return C=i()(s()().mark(function t(a,u,o){var n,D;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=a.personnelId,D=h()(a,z),c.abrupt("return",(0,p.request)("/api/v1/personnel/".concat(n),r()({method:"PUT",headers:{"Content-Type":"application/json"},params:r()({},D),data:u},o||{})));case 2:case"end":return c.stop()}},t)})),C.apply(this,arguments)}function F(t,a){return M.apply(this,arguments)}function M(){return M=i()(s()().mark(function t(a,u){var o,n;return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=a.personnelId,n=h()(a,W),v.abrupt("return",(0,p.request)("/api/v1/personnel/".concat(o),r()({method:"DELETE",params:r()({},n)},u||{})));case 2:case"end":return v.stop()}},t)})),M.apply(this,arguments)}function m(t,a){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,u){var o,n,D;return _regeneratorRuntime().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=a.personnelId,n=a.tag,D=_objectWithoutProperties(a,S),c.abrupt("return",request("/api/v1/personnel/".concat(o,"/").concat(n),_objectSpread({method:"DELETE",params:_objectSpread({},D)},u||{})));case 2:case"end":return c.stop()}},t)})),g.apply(this,arguments)}function K(t,a){return P.apply(this,arguments)}function P(){return P=i()(s()().mark(function t(a,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/v1/personnelTypes",r()({method:"GET",params:r()({current:"1",size:"10"},a)},u||{})));case 1:case"end":return n.stop()}},t)})),P.apply(this,arguments)}function Y(t,a){return Q.apply(this,arguments)}function Q(){return Q=i()(s()().mark(function t(a,u){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.request)("/api/v1/personnelTypes",r()({method:"POST",headers:{"Content-Type":"application/json"},data:a},u||{})));case 1:case"end":return n.stop()}},t)})),Q.apply(this,arguments)}function q(t,a){return H.apply(this,arguments)}function H(){return H=i()(s()().mark(function t(a,u){var o,n;return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=a.typeId,n=h()(a,w),v.abrupt("return",(0,p.request)("/api/v1/personnelTypes/".concat(o),r()({method:"DELETE",params:r()({},n)},u||{})));case 2:case"end":return v.stop()}},t)})),H.apply(this,arguments)}function k(t,a,u){return J.apply(this,arguments)}function J(){return J=i()(s()().mark(function t(a,u,o){var n,D;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=a.typeId,D=h()(a,G),c.abrupt("return",(0,p.request)("/api/v1/personnelTypes/".concat(n),r()({method:"PUT",headers:{"Content-Type":"application/json"},params:r()({},D),data:u},o||{})));case 2:case"end":return c.stop()}},t)})),J.apply(this,arguments)}function ee(t){return X.apply(this,arguments)}function X(){return X=i()(s()().mark(function t(a){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/v1/treeDepartment",r()({method:"GET"},a||{})));case 1:case"end":return o.stop()}},t)})),X.apply(this,arguments)}}}]);
