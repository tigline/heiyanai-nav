"use strict";(self.webpackChunkheyanai_navigation=self.webpackChunkheyanai_navigation||[]).push([[907],{94149:function(y,P,e){e.d(P,{Z:function(){return f}});var m=e(1413),n=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},d=D,v=e(98615),p=function(g,j){return n.createElement(v.Z,(0,m.Z)((0,m.Z)({},g),{},{ref:j,icon:d}))};p.displayName="LockOutlined";var f=n.forwardRef(p)},5966:function(y,P,e){var m=e(1413),n=e(91),D=e(67294),d=e(86682),v=e(85893),p=["fieldProps","proFieldProps"],f=["fieldProps","proFieldProps"],c="text",g=function(_){var t=_.fieldProps,a=_.proFieldProps,i=(0,n.Z)(_,p);return(0,v.jsx)(d.Z,(0,m.Z)({valueType:c,fieldProps:t,filedConfig:{valueType:c},proFieldProps:a},i))},j=function(_){var t=_.fieldProps,a=_.proFieldProps,i=(0,n.Z)(_,f);return(0,v.jsx)(d.Z,(0,m.Z)({valueType:"password",fieldProps:t,proFieldProps:a,filedConfig:{valueType:c}},i))},E=g;E.Password=j,E.displayName="ProFormComponent",P.Z=E},95787:function(y,P,e){e.r(P);var m=e(15009),n=e.n(m),D=e(97857),d=e.n(D),v=e(13769),p=e.n(v),f=e(99289),c=e.n(f),g=e(99702),j=e(95629),E=e(69851),b=e(87547),_=e(94149),t=e(34994),a=e(5966),i=e(19922),o=e(35312),s=e(54689),K=e(71230),B=e(15746),R=e(71577),F=e(25514),H=e(67294),Z=e(67610),r=e(85893),S=["confirm","username"],z=function(){var L=(0,i.l)(function(h){var A=h.token;return{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:A.borderRadius,":hover":{backgroundColor:A.colorBgTextHover}}});return(0,r.jsx)("div",{className:L,"data-lang":!0,children:o.SelectLang&&(0,r.jsx)(o.SelectLang,{})})},V=function(){var L=(0,i.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),h=(0,o.useIntl)(),A=function(){var T=c()(n()().mark(function M(O){var C,l,x,U,W,I;return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,C=O.confirm,l=O.username,x=p()(O,S),console.log(C),u.next=5,(0,j.z2)(d()(d()({username:l},x),{},{nickname:l,email:l}));case 5:if(U=u.sent,!(U.code===E.OK&&U.data)){u.next=12;break}return W=h.formatMessage({id:"pages.register.success",defaultMessage:"\u6CE8\u518C\u6210\u529F\uFF01"}),s.Z.success({message:W}),I=new URL(window.location.href).searchParams,o.history.push(I.get("redirect")||"/"),u.abrupt("return");case 12:console.log(U),u.next=17;break;case 15:u.prev=15,u.t0=u.catch(0);case 17:case"end":return u.stop()}},M,null,[[0,15]])}));return function(O){return T.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:L,children:[(0,r.jsx)(o.Helmet,{children:(0,r.jsxs)("title",{children:[h.formatMessage({id:"menu.register",defaultMessage:"\u6CE8\u518C\u9875"}),"- ",Z.Z.title]})}),(0,r.jsx)(z,{}),(0,r.jsx)("div",{style:{width:520,margin:"auto"},children:(0,r.jsxs)(t.A,{style:{minWidth:380,maxWidth:"75vw"},title:"Ant Design",initialValues:{autoLogin:!0},submitter:{render:function(){return(0,r.jsxs)(K.Z,{children:[(0,r.jsx)(B.Z,{span:"12",children:(0,r.jsx)(R.ZP,{block:!0,type:"primary",htmlType:"submit",children:h.formatMessage({id:"menu.register",defaultMessage:"\u6CE8\u518C"})})}),(0,r.jsx)(B.Z,{span:"12",children:(0,r.jsx)(R.ZP,{block:!0,type:"link",href:"/user/login",children:h.formatMessage({id:"pages.register.link.login",defaultMessage:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})})]})}},onFinish:function(){var T=c()(n()().mark(function M(O){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,A(O);case 2:case"end":return l.stop()}},M)}));return function(M){return T.apply(this,arguments)}}(),children:[(0,r.jsx)(F.Z.Title,{level:3,children:(0,r.jsx)(o.FormattedMessage,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C\u8D26\u6237"})}),(0,r.jsx)(a.Z,{name:"username",fieldProps:{size:"large",prefix:(0,r.jsx)(b.Z,{})},placeholder:h.formatMessage({id:"pages.register.email",defaultMessage:"\u90AE\u7BB1"}),rules:[{type:"email",message:(0,r.jsx)(o.FormattedMessage,{id:"pages.login.username.email.validator.required",defaultMessage:"\u8BF7\u4F7F\u7528\u90AE\u7BB1\u6CE8\u518C"})},{required:!0,message:(0,r.jsx)(o.FormattedMessage,{id:"pages.register.email.required",defaultMessage:"\u8BF7\u8F93\u5165\u90AE\u7BB1!"})}]}),(0,r.jsx)(a.Z.Password,{name:"password",placeholder:h.formatMessage({id:"pages.register.password.placeholder",defaultMessage:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"}),fieldProps:{size:"large",prefix:(0,r.jsx)(_.Z,{})},dependencies:["confirm"],rules:[{required:!0,message:(0,r.jsx)(o.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),(0,r.jsx)(a.Z.Password,{name:"confirm",placeholder:h.formatMessage({id:"pages.register.confirm",defaultMessage:"\u786E\u8BA4\u5BC6\u7801"}),fieldProps:{size:"large",prefix:(0,r.jsx)(_.Z,{})},dependencies:["password"],rules:[function(T){var M=T.getFieldValue;return{validator:function(C,l){return!l||M("password")===l?Promise.resolve():Promise.reject(new Error("The two passwords that you entered do not match!"))}}},{required:!0,message:(0,r.jsx)(o.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})}),(0,r.jsx)(g.Z,{})]})};P.default=V},95629:function(y,P,e){e.d(P,{x4:function(){return c},z2:function(){return b}});var m=e(15009),n=e.n(m),D=e(97857),d=e.n(D),v=e(99289),p=e.n(v),f=e(35312);function c(t,a){return g.apply(this,arguments)}function g(){return g=p()(n()().mark(function t(a,i){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/v1/login",d()({method:"POST",headers:{"Content-Type":"application/json"},data:a},i||{})));case 1:case"end":return s.stop()}},t)})),g.apply(this,arguments)}function j(t,a){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function t(a,i){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("/api/v1/refreshToken",_objectSpread({method:"POST",params:_objectSpread({},a)},i||{})));case 1:case"end":return s.stop()}},t)})),E.apply(this,arguments)}function b(t,a){return _.apply(this,arguments)}function _(){return _=p()(n()().mark(function t(a,i){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,f.request)("/api/v1/register",d()({method:"POST",headers:{"Content-Type":"application/json"},data:a},i||{})));case 1:case"end":return s.stop()}},t)})),_.apply(this,arguments)}}}]);
