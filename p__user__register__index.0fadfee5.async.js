"use strict";(self.webpackChunkheyanai_navigation=self.webpackChunkheyanai_navigation||[]).push([[907],{94149:function(L,P,e){e.d(P,{Z:function(){return M}});var m=e(1413),a=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},d=D,f=e(98615),c=function(g,O){return a.createElement(f.Z,(0,m.Z)((0,m.Z)({},g),{},{ref:O,icon:d}))};c.displayName="LockOutlined";var M=a.forwardRef(c)},5966:function(L,P,e){var m=e(1413),a=e(91),D=e(67294),d=e(97556),f=e(85893),c=["fieldProps","proFieldProps"],M=["fieldProps","proFieldProps"],p="text",g=function(n){var t=n.fieldProps,r=n.proFieldProps,i=(0,a.Z)(n,c);return(0,f.jsx)(d.Z,(0,m.Z)({valueType:p,fieldProps:t,filedConfig:{valueType:p},proFieldProps:r},i))},O=function(n){var t=n.fieldProps,r=n.proFieldProps,i=(0,a.Z)(n,M);return(0,f.jsx)(d.Z,(0,m.Z)({valueType:"password",fieldProps:t,proFieldProps:r,filedConfig:{valueType:p}},i))},h=g;h.Password=O,h.displayName="ProFormComponent",P.Z=h},95787:function(L,P,e){e.r(P);var m=e(15009),a=e.n(m),D=e(97857),d=e.n(D),f=e(13769),c=e.n(f),M=e(99289),p=e.n(M),g=e(99702),O=e(95629),h=e(69851),C=e(87547),n=e(94149),t=e(34994),r=e(5966),i=e(19097),o=e(80854),_=e(54689),K=e(71230),w=e(15746),R=e(71577),y=e(25514),V=e(67294),F=e(67610),s=e(85893),Z=["confirm","username"],S=function(){var B=(0,i.l)(function(E){var T=E.token;return{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:T.borderRadius,":hover":{backgroundColor:T.colorBgTextHover}}});return(0,s.jsx)("div",{className:B,"data-lang":!0,children:o.SelectLang&&(0,s.jsx)(o.SelectLang,{})})},k=function(){var B=(0,i.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),E=(0,o.useIntl)(),T=function(){var j=p()(a()().mark(function b(v){var A,u,x,U,W,I;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,A=v.confirm,u=v.username,x=c()(v,Z),console.log(A),l.next=5,(0,O.z2)(d()(d()({username:u},x),{},{nickname:u,email:u}));case 5:if(U=l.sent,!(U.code===h.OK&&U.data)){l.next=12;break}return W=E.formatMessage({id:"pages.register.success",defaultMessage:"\u6CE8\u518C\u6210\u529F\uFF01"}),_.Z.success({message:W}),I=new URL(window.location.href).searchParams,o.history.push(I.get("redirect")||"/"),l.abrupt("return");case 12:console.log(U),l.next=17;break;case 15:l.prev=15,l.t0=l.catch(0);case 17:case"end":return l.stop()}},b,null,[[0,15]])}));return function(v){return j.apply(this,arguments)}}();return(0,s.jsxs)("div",{className:B,children:[(0,s.jsx)(o.Helmet,{children:(0,s.jsxs)("title",{children:[E.formatMessage({id:"menu.register",defaultMessage:"\u6CE8\u518C\u9875"}),"- ",F.Z.title]})}),(0,s.jsx)(S,{}),(0,s.jsx)("div",{style:{width:520,margin:"auto"},children:(0,s.jsxs)(t.A,{style:{minWidth:380,maxWidth:"75vw"},title:"Ant Design",initialValues:{autoLogin:!0},submitter:{render:function(){return(0,s.jsxs)(K.Z,{children:[(0,s.jsx)(w.Z,{span:"12",children:(0,s.jsx)(R.ZP,{block:!0,type:"primary",htmlType:"submit",children:E.formatMessage({id:"menu.register",defaultMessage:"\u6CE8\u518C"})})}),(0,s.jsx)(w.Z,{span:"12",children:(0,s.jsx)(R.ZP,{block:!0,type:"link",href:"/user/login",children:E.formatMessage({id:"pages.register.link.login",defaultMessage:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})})]})}},onFinish:function(){var j=p()(a()().mark(function b(v){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,T(v);case 2:case"end":return u.stop()}},b)}));return function(b){return j.apply(this,arguments)}}(),children:[(0,s.jsx)(y.Z.Title,{level:3,children:(0,s.jsx)(o.FormattedMessage,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C\u8D26\u6237"})}),(0,s.jsx)(r.Z,{name:"username",fieldProps:{size:"large",prefix:(0,s.jsx)(C.Z,{})},placeholder:E.formatMessage({id:"pages.register.email",defaultMessage:"\u90AE\u7BB1"}),rules:[{type:"email",message:(0,s.jsx)(o.FormattedMessage,{id:"pages.login.username.email.validator.required",defaultMessage:"\u8BF7\u4F7F\u7528\u90AE\u7BB1\u6CE8\u518C"})},{required:!0,message:(0,s.jsx)(o.FormattedMessage,{id:"pages.register.email.required",defaultMessage:"\u8BF7\u8F93\u5165\u90AE\u7BB1!"})}]}),(0,s.jsx)(r.Z.Password,{name:"password",placeholder:E.formatMessage({id:"pages.register.password.placeholder",defaultMessage:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"}),fieldProps:{size:"large",prefix:(0,s.jsx)(n.Z,{})},dependencies:["confirm"],rules:[{required:!0,message:(0,s.jsx)(o.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),(0,s.jsx)(r.Z.Password,{name:"confirm",placeholder:E.formatMessage({id:"pages.register.confirm",defaultMessage:"\u786E\u8BA4\u5BC6\u7801"}),fieldProps:{size:"large",prefix:(0,s.jsx)(n.Z,{})},dependencies:["password"],rules:[function(j){var b=j.getFieldValue;return{validator:function(A,u){return!u||b("password")===u?Promise.resolve():Promise.reject(new Error("The two passwords that you entered do not match!"))}}},{required:!0,message:(0,s.jsx)(o.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})}),(0,s.jsx)(g.Z,{})]})};P.default=k},95629:function(L,P,e){e.d(P,{x4:function(){return p},z2:function(){return C}});var m=e(15009),a=e.n(m),D=e(97857),d=e.n(D),f=e(99289),c=e.n(f),M=e(80854);function p(t,r){return g.apply(this,arguments)}function g(){return g=c()(a()().mark(function t(r,i){return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,M.request)("/api/v1/login",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},i||{})));case 1:case"end":return _.stop()}},t)})),g.apply(this,arguments)}function O(t,r){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function t(r,i){return _regeneratorRuntime().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",request("/api/v1/refreshToken",_objectSpread({method:"POST",params:_objectSpread({},r)},i||{})));case 1:case"end":return _.stop()}},t)})),h.apply(this,arguments)}function C(t,r){return n.apply(this,arguments)}function n(){return n=c()(a()().mark(function t(r,i){return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,M.request)("/api/v1/register",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},i||{})));case 1:case"end":return _.stop()}},t)})),n.apply(this,arguments)}}}]);
